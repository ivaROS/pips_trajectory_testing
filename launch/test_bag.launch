<launch>


<arg name="onboard-machine" default="odroid"/>
<arg name="offboard-machine" default="wolverine"/>


<machine name="odroid" address="odroid.zapto.xyz" env-loader="~/env_loader.sh" default="true"/>
<machine name="wolverine" address="wolverine.zapto.xyz" env-loader="~/env_loader.sh" default="true"/>


<arg name="bagfile" default="/media/justin/data/bag_files/tf_fixed/rgb_down_the_hall_2015-10-20-20-56-35.bag"/>
<arg name="start_time" default="13"/>
<arg name="type" default="tester"/>

<arg name="rgb_image" value="camera/rgb/image_color"/>
<arg name="depth_image" value="camera/depth/image_raw"/>
<arg name="depth_info" value="camera/depth/camera_info"/>

<!-- If using with rosbag_play_turtlebot.launch, then don't need this-->
<!-- Probably best if I just assume that I will always run the above launch file when using recorded data... -->
<!--
<include file="$(find tbkinect)/launch/play_bag.launch"/>
-->

<node machine="$(arg offboard-machine)" name="$(arg type)" pkg="pips_trajectory_testing" type="$(arg type)" args="/base_link" output="screen">
    <remap from="rgb_image" to="$(arg rgb_image)" />
    <remap from="depth_image" to="$(arg depth_image)" />
    <remap from="depth_info" to="$(arg depth_info)" />
  </node>

<!--
<node name="depth_input_viewer" pkg="image_view" type="image_view">
    <remap from="image" to="$(arg depth_image)" />
    <param name="autosize" value="False" />
  </node>
  -->

<node machine="$(arg offboard-machine)" name="play_bag" pkg="rosbag" type="play" args="$(arg bagfile) --clock -s $(arg start_time) -r .50 " />

</launch>
